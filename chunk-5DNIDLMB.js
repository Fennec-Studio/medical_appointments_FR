import{$ as T,A as c,G as d,J as v,K as b,L as y,M as e,N as i,O as p,P as L,Q as m,R as _,S,T as n,U as u,V as I,W as F,aa as P,ba as H,c as w,f as C,j as D,ka as V,la as A,m as k,ma as B,n as E,r as j,ra as G,s as M,t as s,u as h,wa as $,xa as R,y as f,z as l}from"./chunk-B4Q3333Y.js";var g=class o{constructor(r){this._httpClient=r}loadDoctors(){return this._httpClient.get($.API_URL+"doctors").pipe(C(r=>r))}static \u0275fac=function(t){return new(t||o)(k(B))};static \u0275prov=D({token:o,factory:o.\u0275fac,providedIn:"root"})};var z=()=>[],q=o=>({"text-blue-600 bg-blue-100 hover:bg-blue-200 hover:text-blue-700":o});function J(o,r){if(o&1&&(e(0,"tr",7)(1,"th",13),n(2),i(),e(3,"td",14),n(4),i(),e(5,"td",14),n(6),i(),e(7,"td",14)(8,"div",15)(9,"a",16),n(10),i(),e(11,"a",16),n(12),i()()(),e(13,"td",17)(14,"button",18),s(),e(15,"svg",19),p(16,"path",20),i()(),h(),e(17,"button",21),s(),e(18,"svg",19),p(19,"path",22),i()(),h(),e(20,"button",23),s(),e(21,"svg",19),p(22,"path",24),i()()()()),o&2){let t=r.$implicit;l(2),F(" ",t.first_name," ",t.last_name," "),l(2),I(" ",t.speciality," "),l(2),I(" ",t.room," "),l(3),S("href","tel:",t.phone,"",f),l(),u(t.phone),l(),S("href","mailto:",t.email,"",f),l(),u(t.email)}}function K(o,r){if(o&1){let t=L();e(0,"li")(1,"button",25),m("click",function(){let x=j(t).$index,O=_();return M(O.updatePageIdx(x+1))}),n(2),i()()}if(o&2){let t=r.$index,a=_();l(),d("ngClass",H(2,q,t+1===a.pageIdx)),l(),u(t+1)}}var N=class o{constructor(r,t,a){this._doctorService=r;this._authService=t;this._router=a}doctorList=[];pages=0;pageIdx=1;ngOnInit(){this._authService.isLogged()?this.retrieveData():this._router.navigate(["/"])}retrieveData(){return w(this,null,function*(){yield this._doctorService.loadDoctors().subscribe(r=>{this.doctorList=r,this.paginationSetup()})})}paginationSetup(){this.doctorList.length===0&&(this.pages=1),this.pages=Math.ceil(this.doctorList.length/5)}updatePageIdx(r){this.pageIdx=r}showContentPage(r){return this.pageIdx=r,this.doctorList.slice((this.pageIdx-1)*5,this.pageIdx*5)}static \u0275fac=function(t){return new(t||o)(c(g),c(R),c(G))};static \u0275cmp=E({type:o,selectors:[["app-doctors"]],standalone:!0,features:[T],decls:35,vars:3,consts:[[1,"flex","flex-col","justify-center","font-IBM","bg-whiteFixed","rounded-md","shadow-sm","my-10","mx-20","p-6","space-y-4"],[1,"text-3xl","font-medium"],[1,"text-sm","text-slate-500"],[1,"relative","overflow-x-auto"],[1,"w-full","text-sm","text-left","rtl:text-right","text-gray-500"],[1,"text-xs","text-gray-700","uppercase","bg-gray-100"],["scope","col",1,"px-6","py-3"],[1,"bg-white","border-b","hover:bg-gray-50"],[1,"flex","justify-end"],["aria-label","Page navigation example"],[1,"inline-flex","-space-x-px","text-sm"],[1,"flex","items-center","justify-center","px-3","h-8","ms-0","leading-tight","text-gray-500","bg-white","border","border-e-0","border-gray-300","rounded-s-lg","hover:bg-gray-100","hover:text-gray-700",3,"click","disabled"],[1,"flex","items-center","justify-center","px-3","h-8","leading-tight","text-gray-500","bg-white","border","border-gray-300","rounded-e-lg","hover:bg-gray-100","hover:text-gray-700",3,"click","disabled"],["scope","row",1,"px-6","py-4","font-medium","text-gray-900","whitespace-nowrap"],[1,"px-6","py-4"],[1,"flex","flex-col"],[1,"text-primaryBlue","hover:text-secondaryBlue",3,"href"],[1,"flex","flex-row","space-x-2","px-6","py-2"],["type","button",1,"text-white","bg-primaryGreen","hover:bg-secondaryGreen","focus:ring-4","focus:outline-none","focus:ring-blue-300","font-medium","rounded-lg","text-sm","p-2","text-center","inline-flex","items-center"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","width","24","height","24","fill","none","viewBox","0 0 24 24",1,"w-4","h-4","text-white"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 11.917 9.724 16.5 19 7.5"],["type","button",1,"text-sm","p-2","text-center","inline-flex","items-center","text-white","bg-orange-300","hover:bg-orange-400","focus:ring-4","focus:outline-none","focus:ring-blue-300","font-medium","rounded-lg"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m14.304 4.844 2.852 2.852M7 7H4a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h11a1 1 0 0 0 1-1v-4.5m2.409-9.91a2.017 2.017 0 0 1 0 2.853l-6.844 6.844L8 14l.713-3.565 6.844-6.844a2.015 2.015 0 0 1 2.852 0Z"],["type","button",1,"text-sm","p-2","text-center","inline-flex","items-center","text-white","bg-red-400","hover:bg-red-600","focus:ring-4","focus:outline-none","focus:ring-blue-300","font-medium","rounded-lg"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 7h14m-9 3v8m4-8v8M10 3h4a1 1 0 0 1 1 1v3H9V4a1 1 0 0 1 1-1ZM6 7h12v13a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V7Z"],[1,"flex","items-center","justify-center","px-3","h-8","leading-tight","text-gray-500","bg-white","border","border-gray-300","hover:bg-gray-100","hover:text-gray-700",3,"click","ngClass"]],template:function(t,a){t&1&&(e(0,"div",0)(1,"div")(2,"h2",1),n(3,"Listado de doctores"),i(),e(4,"p",2),n(5,"A continuaci\xF3n se muestra un listado de los doctores registrados en el panel de control."),i()(),e(6,"div")(7,"div",3)(8,"table",4)(9,"thead",5)(10,"tr")(11,"th",6),n(12," Doctor "),i(),e(13,"th",6),n(14," Especialidad "),i(),e(15,"th",6),n(16," Cuarto "),i(),e(17,"th",6),n(18," Contacto "),i(),e(19,"th",6),n(20," Acciones "),i()()(),e(21,"tbody"),b(22,J,23,10,"tr",7,v),i()()()(),e(24,"div",8)(25,"nav",9)(26,"ul",10)(27,"li")(28,"button",11),m("click",function(){return a.updatePageIdx(a.pageIdx-1)}),n(29,"Anterior"),i()(),b(30,K,3,4,"li",null,v),e(32,"li")(33,"button",12),m("click",function(){return a.updatePageIdx(a.pageIdx+1)}),n(34,"Siguiente"),i()()()()()()),t&2&&(l(22),y(a.showContentPage(a.pageIdx)),l(6),d("disabled",a.pageIdx===1),l(2),y(P(2,z).constructor(a.pages)),l(3),d("disabled",a.pageIdx===a.pages))},dependencies:[A,V],encapsulation:2})};export{N as DoctorsComponent};
