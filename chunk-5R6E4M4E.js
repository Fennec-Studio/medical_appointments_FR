import{$ as F,A as d,G as s,J as f,K as v,L as b,M as t,N as n,O as c,P as E,Q as u,R as y,T as o,U as j,V as l,aa as M,ba as L,c as _,ca as P,f as S,j as w,ka as T,la as H,m as C,ma as V,n as I,r as A,ra as D,s as k,t as m,u as h,wa as G,xa as $,z as p}from"./chunk-5LTKZO2C.js";var g=class r{constructor(i){this._httpClient=i}loadAppointments(){return this._httpClient.get(G.API_URL+"appointments").pipe(S(i=>i))}static \u0275fac=function(e){return new(e||r)(C(V))};static \u0275prov=w({token:r,factory:r.\u0275fac,providedIn:"root"})};var Z=()=>[],U=(r,i,e)=>({"bg-green-200 text-green-800":r,"bg-blue-200 text-blue-800":i,"bg-red-200 text-red-800":e}),q=r=>({"text-blue-600 bg-blue-100 hover:bg-blue-200 hover:text-blue-700":r});function z(r,i){if(r&1&&(t(0,"tr",7)(1,"th",13),o(2),n(),t(3,"td",14),o(4),n(),t(5,"td",14),o(6),n(),t(7,"td",14)(8,"span",15),o(9),n()(),t(10,"td",16)(11,"button",17),m(),t(12,"svg",18),c(13,"path",19),n()(),h(),t(14,"button",20),m(),t(15,"svg",18),c(16,"path",21),n()(),h(),t(17,"button",22),m(),t(18,"svg",18),c(19,"path",23),n()()()()),r&2){let e=i.$implicit;p(2),l(" ",e.patient," "),p(2),l(" ",e.doctor," "),p(2),l(" ",e.date," "),p(2),s("ngClass",P(5,U,e.status===0,e.status===1,e.status===2)),p(),l(" ",e.status===0?"Pendiente":e.status===1?"Atendida":"Cancelada"," ")}}function J(r,i){if(r&1){let e=E();t(0,"li")(1,"button",24),u("click",function(){let x=A(e).$index,R=y();return k(R.updatePageIdx(x+1))}),o(2),n()()}if(r&2){let e=i.$index,a=y();p(),s("ngClass",L(2,q,e+1===a.pageIdx)),p(),j(e+1)}}var B=class r{constructor(i,e,a){this._appointmentService=i;this._authService=e;this._router=a}appointmentList=[];pages=0;pageIdx=1;ngOnInit(){this._authService.isLogged()?this.retrieveData():this._router.navigate(["/"])}retrieveData(){return _(this,null,function*(){yield this._appointmentService.loadAppointments().subscribe(i=>{this.appointmentList=i,this.paginationSetup()})})}paginationSetup(){this.appointmentList.length===0&&(this.pages=1),this.pages=Math.ceil(this.appointmentList.length/5)}updatePageIdx(i){this.pageIdx=i}showContentPage(i){return this.pageIdx=i,this.appointmentList.slice((this.pageIdx-1)*5,this.pageIdx*5)}static \u0275fac=function(e){return new(e||r)(d(g),d($),d(D))};static \u0275cmp=I({type:r,selectors:[["app-appointments"]],standalone:!0,features:[F],decls:35,vars:3,consts:[[1,"flex","flex-col","justify-center","font-IBM","bg-whiteFixed","rounded-md","shadow-sm","my-10","mx-20","p-6","space-y-4"],[1,"text-3xl","font-medium"],[1,"text-sm","text-slate-500"],[1,"relative","overflow-x-auto"],[1,"w-full","text-sm","text-left","rtl:text-right","text-gray-500"],[1,"text-xs","text-gray-700","uppercase","bg-gray-100"],["scope","col",1,"px-6","py-3"],[1,"bg-white","border-b","hover:bg-gray-50"],[1,"flex","justify-end"],["aria-label","Page navigation example"],[1,"inline-flex","-space-x-px","text-sm"],[1,"flex","items-center","justify-center","px-3","h-8","ms-0","leading-tight","text-gray-500","bg-white","border","border-e-0","border-gray-300","rounded-s-lg","hover:bg-gray-100","hover:text-gray-700",3,"click","disabled"],[1,"flex","items-center","justify-center","px-3","h-8","leading-tight","text-gray-500","bg-white","border","border-gray-300","rounded-e-lg","hover:bg-gray-100","hover:text-gray-700",3,"click","disabled"],["scope","row",1,"px-6","py-4","font-medium","text-gray-900","whitespace-nowrap"],[1,"px-6","py-4"],[1,"text-xs","font-medium","me-2","px-2.5","py-0.5","rounded",3,"ngClass"],[1,"flex","flex-row","space-x-2","px-6","py-2"],["type","button",1,"text-white","bg-primaryGreen","hover:bg-secondaryGreen","focus:ring-4","focus:outline-none","focus:ring-blue-300","font-medium","rounded-lg","text-sm","p-2","text-center","inline-flex","items-center"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","width","24","height","24","fill","none","viewBox","0 0 24 24",1,"w-4","h-4","text-white"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 11.917 9.724 16.5 19 7.5"],["type","button",1,"text-sm","p-2","text-center","inline-flex","items-center","text-white","bg-orange-300","hover:bg-orange-400","focus:ring-4","focus:outline-none","focus:ring-blue-300","font-medium","rounded-lg"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m14.304 4.844 2.852 2.852M7 7H4a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h11a1 1 0 0 0 1-1v-4.5m2.409-9.91a2.017 2.017 0 0 1 0 2.853l-6.844 6.844L8 14l.713-3.565 6.844-6.844a2.015 2.015 0 0 1 2.852 0Z"],["type","button",1,"text-sm","p-2","text-center","inline-flex","items-center","text-white","bg-red-400","hover:bg-red-600","focus:ring-4","focus:outline-none","focus:ring-blue-300","font-medium","rounded-lg"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 7h14m-9 3v8m4-8v8M10 3h4a1 1 0 0 1 1 1v3H9V4a1 1 0 0 1 1-1ZM6 7h12v13a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V7Z"],[1,"flex","items-center","justify-center","px-3","h-8","leading-tight","text-gray-500","bg-white","border","border-gray-300","hover:bg-gray-100","hover:text-gray-700",3,"click","ngClass"]],template:function(e,a){e&1&&(t(0,"div",0)(1,"div")(2,"h2",1),o(3,"Listado de citas"),n(),t(4,"p",2),o(5,"A continuaci\xF3n se muestra un listado de las citas agendadas y atendidas."),n()(),t(6,"div")(7,"div",3)(8,"table",4)(9,"thead",5)(10,"tr")(11,"th",6),o(12," Paciente "),n(),t(13,"th",6),o(14," Doctor "),n(),t(15,"th",6),o(16," Fecha "),n(),t(17,"th",6),o(18," Estado "),n(),t(19,"th",6),o(20," Acciones "),n()()(),t(21,"tbody"),v(22,z,20,9,"tr",7,f),n()()()(),t(24,"div",8)(25,"nav",9)(26,"ul",10)(27,"li")(28,"button",11),u("click",function(){return a.updatePageIdx(a.pageIdx-1)}),o(29,"Anterior"),n()(),v(30,J,3,4,"li",null,f),t(32,"li")(33,"button",12),u("click",function(){return a.updatePageIdx(a.pageIdx+1)}),o(34,"Siguiente"),n()()()()()()),e&2&&(p(22),b(a.showContentPage(a.pageIdx)),p(6),s("disabled",a.pageIdx===1),p(2),b(M(2,Z).constructor(a.pages)),p(3),s("disabled",a.pageIdx===a.pages))},dependencies:[H,T],encapsulation:2})};export{B as AppointmentsComponent};
