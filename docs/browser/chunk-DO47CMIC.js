import{$a as a,Ia as E,Jb as A,Kb as G,La as d,N as w,Na as M,Oa as f,Pa as v,Pb as Z,Qa as b,Ra as e,Rb as D,S as C,Sa as i,Sb as N,Ta as p,Ua as F,Va as m,Wa as y,X as I,ab as j,bb as u,c as _,cb as H,da as P,ea as k,fa as s,ga as c,hb as L,ib as T,jb as V,p as S,xa as l,ya as h}from"./chunk-DLXHRA3B.js";var g=class r{constructor(n){this._httpClient=n}loadAppointments(){return this._httpClient.get(D.API_URL+"patients").pipe(S(n=>n))}static \u0275fac=function(t){return new(t||r)(C(Z))};static \u0275prov=w({token:r,factory:r.\u0275fac,providedIn:"root"})};var U=()=>[],q=r=>({"text-blue-600 bg-blue-100 hover:bg-blue-200 hover:text-blue-700":r});function z(r,n){r&1&&(e(0,"sup",14),a(1,"\u25CF"),i())}function J(r,n){if(r&1&&(e(0,"tr",7)(1,"th",13),a(2),E(3,z,2,0,"sup",14),i(),e(4,"td",15),a(5),i(),e(6,"td",15),a(7),i(),e(8,"td",16),a(9),i(),e(10,"td",17)(11,"button",18),s(),e(12,"svg",19),p(13,"path",20)(14,"path",21),i()(),c(),e(15,"button",22),s(),e(16,"svg",19),p(17,"path",23),i()(),c(),e(18,"button",24),s(),e(19,"svg",19),p(20,"path",25),i()(),c(),e(21,"button",26),s(),e(22,"svg",19),p(23,"path",27),i()()()()),r&2){let t=n.$implicit;l(2),H(" ",t.first_name," ",t.last_name," "),l(),M(t.medical_history==null?3:-1),l(2),u(" ",(t.medical_history==null?null:t.medical_history.gender)||"No especificado"," "),l(2),u(" ",(t.medical_history==null?null:t.medical_history.age)||"No especificado"," "),l(2),u(" ",t.curp," ")}}function K(r,n){if(r&1){let t=F();e(0,"li")(1,"button",28),m("click",function(){let x=P(t).$index,B=y();return k(B.updatePageIdx(x+1))}),a(2),i()()}if(r&2){let t=n.$index,o=y();l(),d("ngClass",V(2,q,t+1==o.pageIdx)),l(),j(t+1)}}var $=class r{constructor(n,t){this._patientService=n;this._authService=t}patientList=[];pages=0;pageIdx=1;ngOnInit(){this._authService.isLogged()?this.retrieveData():window.location.href="/"}retrieveData(){return _(this,null,function*(){yield this._patientService.loadAppointments().subscribe(n=>{this.patientList=n,this.paginationSetup()})})}paginationSetup(){this.patientList.length===0&&(this.pages=1),this.pages=Math.ceil(this.patientList.length/5)}updatePageIdx(n){this.pageIdx=n}showContentPage(n){return this.pageIdx=n,this.patientList.slice((this.pageIdx-1)*5,this.pageIdx*5)}static \u0275fac=function(t){return new(t||r)(h(g),h(N))};static \u0275cmp=I({type:r,selectors:[["app-patients"]],standalone:!0,features:[L],decls:35,vars:3,consts:[[1,"flex","flex-col","justify-center","font-IBM","bg-whiteFixed","rounded-md","shadow-sm","my-10","mx-20","p-6","space-y-4"],[1,"text-3xl","font-medium"],[1,"text-sm","text-slate-500"],[1,"relative","overflow-x-auto","cursor-default"],[1,"w-full","text-sm","text-left","rtl:text-right","text-gray-500"],[1,"text-xs","text-gray-700","uppercase","bg-gray-100"],["scope","col",1,"px-6","py-3"],[1,"bg-white","border-b","hover:bg-gray-50"],[1,"flex","justify-end"],["aria-label","Page navigation example"],[1,"inline-flex","-space-x-px","text-sm"],[1,"flex","items-center","justify-center","px-3","h-8","ms-0","leading-tight","text-gray-500","bg-white","border","border-e-0","border-gray-300","rounded-s-lg","hover:bg-gray-100","hover:text-gray-700",3,"click","disabled"],[1,"flex","items-center","justify-center","px-3","h-8","leading-tight","text-gray-500","bg-white","border","border-gray-300","rounded-e-lg","hover:bg-gray-100","hover:text-gray-700",3,"click","disabled"],["scope","row",1,"px-6","py-4","font-medium","text-gray-900","whitespace-nowrap"],[1,"text-xs","text-red-500","animate-pulse"],[1,"px-4","py-4"],[1,"px-6","py-4"],[1,"flex","flex-row","space-x-2","px-6","py-2"],["type","button","title","Ver informaci\xF3n del paciente",1,"text-white","bg-primaryGreen","hover:bg-secondaryGreen","focus:ring-4","focus:outline-none","focus:ring-blue-300","font-medium","rounded-lg","text-sm","p-2","text-center","inline-flex","items-center"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","width","24","height","24","fill","none","viewBox","0 0 24 24",1,"w-4","h-4","text-white"],["stroke","currentColor","stroke-width","2","d","M21 12c0 1.2-4.03 6-9 6s-9-4.8-9-6c0-1.2 4.03-6 9-6s9 4.8 9 6Z"],["stroke","currentColor","stroke-width","2","d","M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"],["type","button","title","Imprimir informaci\xF3n del paciente",1,"text-sm","p-2","text-center","inline-flex","items-center","text-white","bg-sky-300","hover:bg-sky-400","focus:ring-4","focus:outline-none","focus:ring-blue-300","font-medium","rounded-lg"],["stroke","currentColor","stroke-linejoin","round","stroke-width","2","d","M16.444 18H19a1 1 0 0 0 1-1v-5a1 1 0 0 0-1-1H5a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1h2.556M17 11V5a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v6h10ZM7 15h10v4a1 1 0 0 1-1 1H8a1 1 0 0 1-1-1v-4Z"],["type","button","title","Modificar informaci\xF3n del paciente",1,"text-sm","p-2","text-center","inline-flex","items-center","text-white","bg-orange-300","hover:bg-orange-400","focus:ring-4","focus:outline-none","focus:ring-blue-300","font-medium","rounded-lg"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m14.304 4.844 2.852 2.852M7 7H4a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h11a1 1 0 0 0 1-1v-4.5m2.409-9.91a2.017 2.017 0 0 1 0 2.853l-6.844 6.844L8 14l.713-3.565 6.844-6.844a2.015 2.015 0 0 1 2.852 0Z"],["type","button","title","Eliminar informaci\xF3n del paciente",1,"text-sm","p-2","text-center","inline-flex","items-center","text-white","bg-red-400","hover:bg-red-600","focus:ring-4","focus:outline-none","focus:ring-blue-300","font-medium","rounded-lg"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 7h14m-9 3v8m4-8v8M10 3h4a1 1 0 0 1 1 1v3H9V4a1 1 0 0 1 1-1ZM6 7h12v13a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V7Z"],[1,"flex","items-center","justify-center","px-3","h-8","leading-tight","text-gray-500","bg-white","border","border-gray-300","hover:bg-gray-100","hover:text-gray-700",3,"click","ngClass"]],template:function(t,o){t&1&&(e(0,"div",0)(1,"div")(2,"h2",1),a(3,"Listado de pacientes"),i(),e(4,"p",2),a(5,"A continuaci\xF3n se muestra un listado de los pacientes registrados en el sistema."),i()(),e(6,"div")(7,"div",3)(8,"table",4)(9,"thead",5)(10,"tr")(11,"th",6),a(12," Paciente "),i(),e(13,"th",6),a(14," Genero "),i(),e(15,"th",6),a(16," Edad "),i(),e(17,"th",6),a(18," CURP "),i(),e(19,"th",6),a(20," Acciones "),i()()(),e(21,"tbody"),v(22,J,24,6,"tr",7,f),i()()()(),e(24,"div",8)(25,"nav",9)(26,"ul",10)(27,"li")(28,"button",11),m("click",function(){return o.updatePageIdx(o.pageIdx-1)}),a(29,"Anterior"),i()(),v(30,K,3,4,"li",null,f),e(32,"li")(33,"button",12),m("click",function(){return o.updatePageIdx(o.pageIdx+1)}),a(34,"Siguiente"),i()()()()()()),t&2&&(l(22),b(o.showContentPage(o.pageIdx)),l(6),d("disabled",o.pageIdx===1),l(2),b(T(2,U).constructor(o.pages)),l(3),d("disabled",o.pageIdx===o.pages))},dependencies:[G,A],encapsulation:2})};export{$ as PatientsComponent};
