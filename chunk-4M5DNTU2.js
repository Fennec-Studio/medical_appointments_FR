import{a as z}from"./chunk-MM757KGP.js";import{a as B,b as G,c as A,d as H,e as W,f as R,k as Z}from"./chunk-QBWNDVWI.js";import{$ as M,A as s,B as b,Da as $,F as V,H as g,J as F,K as v,L as S,M as w,N as t,O as i,P as h,Q as _,R as u,S as c,V as a,W as j,X as y,Z as C,_ as k,ba as L,c as T,ca as U,da as I,n as E,pa as D,ra as N,s as p,t as m,u as x,v as f,xa as P}from"./chunk-RB3ABCDU.js";var q=()=>[],J=l=>({"text-blue-600 bg-blue-100 hover:bg-blue-200 hover:text-blue-700":l}),K=l=>({hidden:l});function Q(l,r){if(l&1){let e=_();t(0,"tr",7)(1,"th",14),a(2),i(),t(3,"td",15),a(4),i(),t(5,"td",15),a(6),i(),t(7,"td",16)(8,"button",17),x(),t(9,"svg",18),h(10,"path",19),i()(),f(),t(11,"button",20),u("click",function(){let o=p(e).$implicit,d=c();return m(d.toggleModal(o.id))}),x(),t(12,"svg",18),h(13,"path",21),i()(),f(),t(14,"button",22),x(),t(15,"svg",18),h(16,"path",23),i()()()()}if(l&2){let e=r.$implicit;s(2),y(" ",e.name," "),s(2),y(" ",e.description," "),s(2),y(" ",e.doctors," ")}}function X(l,r){if(l&1){let e=_();t(0,"li")(1,"button",24),u("click",function(){let o=p(e).$index,d=c();return m(d.updatePageIdx(o+1))}),a(2),i()()}if(l&2){let e=r.$index,n=c();s(),g("ngClass",I(2,J,e+1===n.pageIdx)),s(),j(e+1)}}function Y(l,r){if(l&1){let e=_();t(0,"div",13)(1,"form",25),u("submit",function(){p(e);let o=c();return m(o.submitFormUpdate())}),t(2,"div",26)(3,"h2",27),a(4,"Editar especialidad"),i(),t(5,"button",28),u("click",function(){p(e);let o=c();return m(o.toggleModal())}),x(),t(6,"svg",29),h(7,"path",30),i()()(),f(),t(8,"div",31)(9,"div",32)(10,"label",33),a(11,"Nombre especialidad"),i(),t(12,"input",34),M("ngModelChange",function(o){p(e);let d=c();return k(d.specialtiesToUpdate.name,o)||(d.specialtiesToUpdate.name=o),m(o)}),i()()(),t(13,"div",31)(14,"div",32)(15,"label",35),a(16,"Descripcion especialidad"),i(),t(17,"input",36),M("ngModelChange",function(o){p(e);let d=c();return k(d.specialtiesToUpdate.description,o)||(d.specialtiesToUpdate.description=o),m(o)}),i()()(),t(18,"div",37)(19,"button",38),u("click",function(){p(e);let o=c();return m(o.toggleModal())}),a(20," Cancelar "),i(),t(21,"button",39),a(22," Guardar "),i()()()()}if(l&2){let e=c();g("ngClass",I(5,K,!e.showModal)),s(12),C("ngModel",e.specialtiesToUpdate.name),g("value",e.specialtiesToUpdate.name),s(5),C("ngModel",e.specialtiesToUpdate.description),g("value",e.specialtiesToUpdate.description)}}var O=class l{constructor(r,e,n){this._specialtyService=r;this._authService=e;this._router=n}specialtiesList=[];pages=0;pageIdx=1;showModal=!1;specialtiesToUpdate={};ngOnInit(){this._authService.isLogged()?this.retrieveData():this._router.navigate(["/"])}retrieveData(){return T(this,null,function*(){yield this._specialtyService.loadSpecialties().subscribe(r=>{this.specialtiesList=r,this.paginationSetup()})})}paginationSetup(){this.specialtiesList.length===0&&(this.pages=1),this.pages=Math.ceil(this.specialtiesList.length/5)}updatePageIdx(r){this.pageIdx=r}showContentPage(r){return this.pageIdx=r,this.specialtiesList.slice((this.pageIdx-1)*5,this.pageIdx*5)}toggleModal(r){r&&(this.specialtiesToUpdate=this.specialtiesList.find(e=>e.id===r)),this.showModal=!this.showModal}submitFormUpdate(){this._specialtyService.updateSpecialty(this.specialtiesToUpdate).subscribe(r=>{console.log(r),r.status===200?(this.retrieveData(),this.toggleModal()):alert("Error updating Specialty")})}static \u0275fac=function(e){return new(e||l)(b(z),b($),b(P))};static \u0275cmp=E({type:l,selectors:[["app-specialties"]],standalone:!0,features:[L],decls:34,vars:4,consts:[[1,"flex","flex-col","justify-center","font-IBM","bg-whiteFixed","rounded-md","shadow-sm","my-10","mx-20","p-6","space-y-4"],[1,"text-3xl","font-medium"],[1,"text-sm","text-slate-500"],[1,"relative","overflow-x-auto"],[1,"w-full","text-sm","text-left","rtl:text-right","text-gray-500"],[1,"text-xs","text-gray-700","uppercase","bg-gray-100"],["scope","col",1,"px-6","py-3"],[1,"bg-white","border-b","hover:bg-gray-50"],[1,"flex","justify-end"],["aria-label","Page navigation example"],[1,"inline-flex","-space-x-px","text-sm"],[1,"flex","items-center","justify-center","px-3","h-8","ms-0","leading-tight","text-gray-500","bg-white","border","border-e-0","border-gray-300","rounded-s-lg","hover:bg-gray-100","hover:text-gray-700",3,"click","disabled"],[1,"flex","items-center","justify-center","px-3","h-8","leading-tight","text-gray-500","bg-white","border","border-gray-300","rounded-e-lg","hover:bg-gray-100","hover:text-gray-700",3,"click","disabled"],[1,"w-full","bg-black","bg-opacity-70","h-screen","z-50","fixed","inset-0","flex","items-center",3,"ngClass"],["scope","row",1,"px-6","py-4","font-medium","text-gray-900","whitespace-nowrap"],[1,"px-6","py-4"],[1,"flex","flex-row","space-x-2","px-6","py-2"],["type","button",1,"text-white","bg-primaryGreen","hover:bg-secondaryGreen","focus:ring-4","focus:outline-none","focus:ring-blue-300","font-medium","rounded-lg","text-sm","p-2","text-center","inline-flex","items-center"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","width","24","height","24","fill","none","viewBox","0 0 24 24",1,"w-4","h-4","text-white"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 11.917 9.724 16.5 19 7.5"],["type","button",1,"text-sm","p-2","text-center","inline-flex","items-center","text-white","bg-orange-300","hover:bg-orange-400","focus:ring-4","focus:outline-none","focus:ring-blue-300","font-medium","rounded-lg",3,"click"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m14.304 4.844 2.852 2.852M7 7H4a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h11a1 1 0 0 0 1-1v-4.5m2.409-9.91a2.017 2.017 0 0 1 0 2.853l-6.844 6.844L8 14l.713-3.565 6.844-6.844a2.015 2.015 0 0 1 2.852 0Z"],["type","button",1,"text-sm","p-2","text-center","inline-flex","items-center","text-white","bg-red-400","hover:bg-red-600","focus:ring-4","focus:outline-none","focus:ring-blue-300","font-medium","rounded-lg"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 7h14m-9 3v8m4-8v8M10 3h4a1 1 0 0 1 1 1v3H9V4a1 1 0 0 1 1-1ZM6 7h12v13a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V7Z"],[1,"flex","items-center","justify-center","px-3","h-8","leading-tight","text-gray-500","bg-white","border","border-gray-300","hover:bg-gray-100","hover:text-gray-700",3,"click","ngClass"],[1,"container","mx-auto","flex","flex-col","space-y-4","bg-white","max-w-4xl","h-auto","rounded-md","p-4",3,"submit"],[1,"flex","justify-between","items-center"],[1,"text-2xl","font-IBM","font-semibold"],[1,"text-white","hover:bg-gray-300","border","font-medium","rounded-lg","p-2","flex","items-center",3,"click"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","width","24","height","24","fill","none","viewBox","0 0 24 24",1,"w-6","h-6","text-slate-800"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18 17.94 6M18 18 6.06 6"],[1,"flex","flex-row","space-x-4"],[1,"w-full"],["for","name_speciality",1,"block","mb-1","text-sm","font-medium","text-gray-900"],["type","text","name","name","id","name_speciality","placeholder","Ingrese el nombre de la especialidad",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5",3,"ngModelChange","ngModel","value"],["for","description_speciality",1,"block","mb-1","text-sm","font-medium","text-gray-900"],["type","text","name","description","id","description_speciality","placeholder","Ingrese una descripci\xF3n para la especialidad",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5",3,"ngModelChange","ngModel","value"],[1,"flex","flex-row","justify-end","space-x-4"],["type","button",1,"text-red-600","border-red-600","hover:bg-red-500","hover:text-white","border","font-medium","rounded-lg","text-sm","px-5","py-2.5",3,"click"],["type","submit",1,"text-white","bg-sky-800","hover:bg-sky-500","font-medium","rounded-lg","text-sm","px-5","py-2.5"]],template:function(e,n){e&1&&(t(0,"div",0)(1,"div")(2,"h2",1),a(3,"Listado de Especialidades"),i(),t(4,"p",2),a(5,"A continuaci\xF3n se muestra un listado de las especialidades registradas."),i()(),t(6,"div")(7,"div",3)(8,"table",4)(9,"thead",5)(10,"tr")(11,"th",6),a(12," Especialidad "),i(),t(13,"th",6),a(14," Descripci\xF3n "),i(),t(15,"th",6),a(16," Doctores "),i(),t(17,"th",6),a(18," Acciones "),i()()(),t(19,"tbody"),S(20,Q,17,3,"tr",7,v),i()()()(),t(22,"div",8)(23,"nav",9)(24,"ul",10)(25,"li")(26,"button",11),u("click",function(){return n.updatePageIdx(n.pageIdx-1)}),a(27,"Anterior"),i()(),S(28,X,3,4,"li",null,v),t(30,"li")(31,"button",12),u("click",function(){return n.updatePageIdx(n.pageIdx+1)}),a(32,"Siguiente"),i()()()()()(),V(33,Y,23,7,"div",13)),e&2&&(s(20),w(n.showContentPage(n.pageIdx)),s(6),g("disabled",n.pageIdx===1),s(2),w(U(3,q).constructor(n.pages)),s(3),g("disabled",n.pageIdx===n.pages),s(2),F(n.specialtiesToUpdate!==null?33:-1))},dependencies:[N,D,Z,R,B,G,A,W,H],encapsulation:2})};export{O as SpecialtiesComponent};
